<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Random Attack</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="theme-color" content="#1a535c" />
  <style>
    body {
      font-family: 'Lexend', sans-serif;
      background-color: #f7fff7;
      color: #1a535c;
      margin: 0;
      overflow: hidden;
    }
    #root {
      height: 100vh;
      width: 100vw;
    }
  </style>
</head>
<body class="h-screen w-screen overflow-hidden">
  <div id="root"></div>
  <script type="text/babel">
const UkeScreen = ({ attacks, setCurrentScreen }) => {
  if (!attacks || attacks.length === 0) {
    console.log('No attacks loaded');
    return (
      <div className="flex flex-col items-center justify-center h-screen w-screen bg-mint-cream text-midnight-green">
        <h1 className="text-3xl font-bold">Fehler</h1>
        <p className="text-lg text-center mt-4">Keine Angriffe geladen. Bitte 端berpr端fe data.json.</p>
      </div>
    );
  }

  const randomAttack = attacks[Math.floor(Math.random() * attacks.length)];
  let touchStartTime;

  const handleTouchStart = () => {
    touchStartTime = Date.now();
    console.log('Touch start (Uke)');
  };

  const handleTouchEnd = () => {
    const duration = Date.now() - touchStartTime;
    console.log(`Touch end (Uke), duration: ${duration}ms`);
    if (duration > 300) {
      setCurrentScreen('start');
    }
  };

  return (
    <div
      className="flex flex-col items-center justify-center h-screen w-screen p-6 bg-mint-cream text-midnight-green overflow-hidden select-none"
      onTouchStart={handleTouchStart}
      onTouchEnd={handleTouchEnd}
    >
      <h1 className="text-3xl font-bold mb-4">{randomAttack.category}</h1>
      <h2 className="text-2xl font-semibold text-center mb-4">{randomAttack.attack}</h2>
      <p className="text-lg text-center max-w-full">{randomAttack.explanation}</p>
    </div>
  );
};

const ToriScreen = ({ techniques, setCurrentScreen }) => {
  if (!techniques || techniques.length === 0) {
    console.log('No techniques loaded');
    return (
      <div className="flex flex-col items-center justify-center h-screen w-screen bg-mint-cream text-midnight-green">
        <h1 className="text-3xl font-bold">Fehler</h1>
        <p className="text-lg text-center mt-4">Keine Techniken geladen. Bitte 端berpr端fe data.json.</p>
      </div>
    );
  }

  const randomTechnique = techniques[Math.floor(Math.random() * techniques.length)];
  let touchStartTime;

  const handleTouchStart = () => {
    touchStartTime = Date.now();
    console.log('Touch start (Tori)');
  };

  const handleTouchEnd = () => {
    const duration = Date.now() - touchStartTime;
    console.log(`Touch end (Tori), duration: ${duration}ms`);
    if (duration > 300) {
      setCurrentScreen('start');
    }
  };

  return (
    <div
      className="flex flex-col items-center justify-center h-screen w-screen p-6 bg-mint-cream text-midnight-green overflow-hidden select-none"
      onTouchStart={handleTouchStart}
      onTouchEnd={handleTouchEnd}
    >
      <h1 className="text-3xl font-bold mb-4">{randomTechnique.category}</h1>
      <h2 className="text-2xl font-semibold text-center mb-4">{randomTechnique.technique}</h2>
    </div>
  );
};
</script>
</body>
</html>